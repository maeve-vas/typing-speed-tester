const data = {
  movies: [
    {
      title: "The Godfather",
      text: `This classic crime drama explores the complex world of a powerful Italian-American mafia family. It tells the story of Vito Corleone, the patriarch, and his reluctant son Michael who eventually takes over the family business. The film delves into loyalty, betrayal, family honor, and the dark consequences of power and revenge. Michael's transformation from a war hero to a ruthless mafia boss is central to the narrative, highlighting the cyclical nature of violence. The Godfather explores the tension between family values and criminality, showing how personal ambition can corrupt even the most honorable of intentions.`
    },
    {
      title: "Forrest Gump",
      text: `Forrest Gump is a simple man with a kind heart who, through sheer coincidence and honesty, finds himself at the center of many key moments in American history. Despite being underestimated his entire life, he inspires people through his sincerity, determination, and unwavering love for his childhood friend Jenny. The film’s message is one of persistence and resilience, showing that anyone can make a significant impact, regardless of intelligence or background. Forrest's journey through the decades, from meeting Presidents to being a war hero, is both humorous and poignant. The film’s iconic quotes, such as "Life is like a box of chocolates," capture the heart of its universal message.`
    },
    {
      title: "The Dark Knight",
      text: `This superhero thriller follows Batman as he faces off against the Joker, a chaotic villain who seeks to upend order in Gotham City. The movie explores moral dilemmas, justice, fear, and the thin line between hero and vigilante. Batman's struggle with his identity and his willingness to sacrifice for the greater good is at the heart of the film. The Joker, portrayed by Heath Ledger, challenges Batman’s principles and forces him to confront his own darkness. The film’s philosophical exploration of good versus evil, the consequences of vigilantism, and the nature of societal order makes it one of the most profound superhero films ever made. The Dark Knight’s impact goes beyond just entertainment; it questions the very nature of heroism and what it means to truly protect people.`
    },
    {
      title: "Star Wars",
      text: `Set in a galaxy far, far away, this epic space opera tells the story of the battle between the Rebel Alliance and the tyrannical Galactic Empire. The story follows a young hero, Luke Skywalker, as he discovers his destiny and learns to harness the mystical power known as the Force. As the saga unfolds, Luke faces personal trials, familial revelations, and epic battles against a dark empire led by the Sith Lord, Darth Vader. The film’s exploration of good versus evil, destiny, and personal growth has made it a cultural phenomenon. Through the story of Luke and his friends—Leia, Han Solo, and Obi-Wan Kenobi—viewers experience the triumphs and sacrifices that define the path of heroes. The theme of redemption, notably through Darth Vader’s arc, is central to the franchise.`
    },
    {
      title: "Titanic",
      text: `This romantic tragedy follows the love story of Jack and Rose, two passengers from different social classes aboard the ill-fated RMS Titanic. As the ship sinks after hitting an iceberg, their bond deepens, leaving a lasting emotional impact about love, loss, and survival. Jack, a poor artist, and Rose, an aristocratic young woman, represent two opposing worlds that collide on the ship. Their passionate love story becomes all the more poignant as the disaster unfolds, with the couple fighting against the inevitable sinking of the ship. The movie not only explores their love but also examines the class divisions and societal expectations of the time. The movie's depiction of heroism and sacrifice in the face of tragedy, especially by characters like the ship's captain and crew, adds to its timeless appeal.`
    },
    {
      title: "The Matrix",
      text: `A hacker named Neo discovers that reality as he knows it is a simulation controlled by machines. He joins a group of rebels who seek to free humanity from the illusion. The film explores philosophical themes like free will, perception, and what it means to be truly awake. Neo's journey from skepticism to belief in his own potential mirrors the journey of self-realization, questioning the very nature of reality. Neo's battle to free humanity from the machines becomes a metaphor for the human struggle for autonomy and control. The film’s mix of action, philosophy, and futuristic imagery set the standard for cyberpunk and influenced a generation of filmmakers and audiences alike.`
    },
    {
      title: "Back to the Future",
      text: `Teenager Marty McFly accidentally travels back in time using a time machine invented by eccentric scientist Doc Brown. He must navigate the past to ensure his parents fall in love and then find a way back to the future without altering history. The movie combines science fiction, humor, and adventure, exploring the complexities of time travel and its potential consequences. Marty’s antics in the past are both comedic and tense, especially as he interacts with his younger parents, trying to preserve the timeline. The relationship between Marty and Doc, one of mentorship and friendship, adds heart to the film. Back to the Future is a beloved classic that blends action, adventure, and time-bending concepts into an unforgettable ride.`
    },
    {
      title: "Casablanca",
      text: `Set during World War II, Casablanca follows an American expatriate who runs a nightclub in Morocco. When a former lover re-enters his life with her resistance-leader husband, he faces a moral choice between love and duty. The tension between Rick Blaine, the nightclub owner, and Ilsa, his former lover, creates a compelling emotional backdrop to the story. The film’s portrayal of the morally ambiguous choices people make during times of war speaks to universal themes of loyalty, duty, and love. The political backdrop of the film, set against the turmoil of World War II, adds depth to its romantic storyline, making it a powerful commentary on personal sacrifice. The combination of unforgettable performances, stirring dialogue, and a hauntingly beautiful score solidified Casablanca as a cinematic masterpiece.`
    },
    {
      title: "Jerry Maguire",
      text: `A sports agent has a crisis of conscience and writes a mission statement about caring for clients as people, not profits. Fired for his honesty, he starts his own agency with a single client and finds deeper meaning in love, work, and personal integrity. Jerry Maguire's journey from corporate greed to personal redemption reflects the theme of rediscovering one’s true values in life. The relationship between Jerry and his assistant, Dorothy, provides both comedic and heartfelt moments, leading to a romantic subplot that enhances the film’s emotional depth. Jerry’s transformation from self-centered ambition to genuine connection with others is at the heart of the film’s message about the importance of authenticity. Its examination of loyalty, love, and the importance of personal connection resonates with audiences on a deeper level.`
    },
    {
      title: "The Shawshank Redemption",
      text: `Wrongfully imprisoned, Andy Dufresne uses patience, intelligence, and inner strength to survive decades in Shawshank prison. He forges a deep friendship with fellow inmate Red and eventually earns his freedom, embodying the enduring power of hope. The Shawshank Redemption highlights the idea that true freedom lies in the mind, not in physical confinement. Andy's ability to remain hopeful and focused, despite the harsh conditions of the prison, is a testament to the strength of the human spirit. The film’s exploration of friendship, perseverance, and redemption resonates deeply with audiences. The movie’s poignant message about the power of hope and second chances has made it a favorite among audiences and critics alike.`
    }
  ],
  songs: [
    {
      title: "A Sky Full of Stars - Coldplay",
      text: `This song celebrates love and admiration. It compares a beloved person to a sky full of stars, emphasizing how they light up the singer’s life. It's uplifting and emotional, expressing both devotion and a sense of awe. The music’s soaring melody and energizing beat perfectly mirror the sense of wonder and admiration conveyed in the lyrics. Its theme of boundless love resonates deeply with listeners who have experienced the transformative power of love in their own lives. "A Sky Full of Stars" has become one of Coldplay's most iconic tracks, with its uplifting tone and message of devotion appealing to a global audience.`
    },
    {
      title: "Uptown Funk - Mark Ronson ft. Bruno Mars",
      text: `This high-energy funk song is about confidence, flair, and having a good time. With retro vibes and catchy beats, it encourages listeners to dance, be bold, and enjoy life to the fullest. Bruno Mars’ infectious energy and vocal charisma shine through, making the song a celebration of self-expression and joy. The track’s funky groove, coupled with its upbeat lyrics, has made it a staple at parties and celebrations. The song emphasizes enjoying the present moment and exuding confidence, no matter the situation. "Uptown Funk" has become a quintessential party anthem, known for getting people on their feet and into the groove.`
    },
    {
      title: "Shake It Off - Taylor Swift",
      text: `This song is a cheerful anthem about ignoring critics and staying positive. It encourages people to keep dancing, moving on, and not letting negativity slow them down. Taylor Swift's empowering message is that no matter what others say, one should always stay true to themselves and keep going. The catchy beat and fun, carefree vibe of the song make it a feel-good anthem for those facing adversity. "Shake It Off" became an anthem for self-confidence and resilience, symbolizing the ability to rise above the noise. It’s an anthem for anyone who believes in their own worth and isn’t afraid to show it.`
    },
    {
      title: "Happy - Pharrell Williams",
      text: `A feel-good anthem about pure joy and freedom. The upbeat melody and lyrics remind listeners to focus on what makes them happy, regardless of external circumstances. Its infectious rhythm encourages dancing and celebrating life’s simple pleasures, turning it into a global movement. The song’s bright, joyful tone instantly lifts the spirit and brings a smile to anyone who listens to it. Its universal theme of happiness and the pursuit of joy resonated deeply, making it a chart-topping success. The song also highlights the power of optimism and a positive outlook in overcoming challenges.`
    },
    {
      title: "Roar - Katy Perry",
      text: `This empowering pop anthem is about reclaiming one's voice and inner strength. It tells the story of rising above self-doubt and speaking up with confidence and courage. Katy Perry’s bold lyrics and powerful delivery emphasize the importance of standing up for oneself and asserting one’s worth. The song is a reminder that everyone has the strength to overcome obstacles and express their true selves. With its triumphant chorus and uplifting message, "Roar" became an anthem for self-empowerment. "Roar" inspired many to embrace their inner power and take control of their lives, no matter the challenges they faced.`
    },
    {
      title: "Count on Me - Bruno Mars",
      text: `A heartfelt song about friendship and loyalty. It expresses the comfort of knowing someone will always be there for you through tough times and happy moments alike. Bruno Mars' soothing voice and the song’s gentle melody convey a message of unwavering support and love between friends. The lyrics remind listeners that true friendship is built on trust, reliability, and emotional connection. It’s a reminder that no matter the distance or the challenge, a real friend will always be there to lend a helping hand. The simple yet profound message of "Count on Me" continues to inspire people to cherish and nurture their closest relationships.`
    },
    {
      title: "Let It Go - Idina Menzel (Frozen)",
      text: `An emotional anthem about self-acceptance and letting go of past fears. It speaks to embracing who you truly are and no longer hiding it from the world. In *Frozen*, Elsa sings "Let It Go" as she sheds her inhibitions and embraces her powers, symbolizing the process of self-discovery and liberation. The song’s soaring vocals and sweeping melody elevate the powerful message of personal freedom and self-expression. Its empowering lyrics encourage listeners to stop living in fear and to embrace their true selves. The message of "Let it go" has resonated with generations, inspiring countless people to be proud of who they are.`
    },
    {
      title: "Stronger - Kelly Clarkson",
      text: `This song is about resilience and personal growth after a heartbreak. It highlights how pain can make someone tougher and more confident than ever before. Kelly Clarkson’s powerful vocals and the song’s anthem-like chorus make it a rallying cry for anyone who has faced hardship and come out stronger on the other side. The lyrics reflect the journey of overcoming adversity and finding strength through self-empowerment. The song emphasizes that hardship is not the end, but an opportunity to grow and evolve into a better version of oneself. It’s a reminder that, no matter how tough life gets, we have the power to rise above and become stronger than before.`
    },
    {
      title: "Fight Song - Rachel Platten",
      text: `A motivational anthem about standing up for oneself. It talks about strength and refusing to be ignored or discouraged, even when feeling small. Rachel Platten’s empowering lyrics and emotive delivery inspire listeners to push through obstacles and fight for their dreams. The song’s simple yet profound message is that anyone can be their own hero, no matter how hard life gets. "Fight Song" is a declaration of strength and defiance, embodying the spirit of perseverance and hope. It encourages people to take ownership of their life and their future, empowering them to fight for what they believe in.`
    },
    {
      title: "On Top of the World - Imagine Dragons",
      text: `This upbeat track expresses the feeling of achieving something great after a long journey. It’s about gratitude, joy, and celebration after overcoming challenges. Imagine Dragons’ energetic performance and the infectious rhythm of the song make it a celebration of hard work and perseverance. "On Top of the World" is a feel-good anthem that reflects the thrill of reaching a long-awaited goal and the satisfaction that comes with it. The song’s positive message encourages listeners to celebrate their victories, no matter how big or small. The song inspires people to keep pushing toward their dreams and to appreciate the successes they achieve along the way.`
    }
  ],
  memes: [
    {
      title: "Distracted Boyfriend",
      text: `A man walks with his girlfriend but turns to check out another woman, representing how people get distracted from what they have. It's used to show shifting attention to something newer or more exciting in humorous or ironic contexts. Often applied to relationships, work, hobbies, or trends to poke fun at ignoring important things for temporary distractions.`
    },
    {
      title: "This Is Fine",
      text: `A dog sits calmly in a room engulfed in flames, saying “This is fine,” capturing forced calmness in chaotic situations. It's used to mock denial when everything is clearly going wrong. The image symbolizes coping mechanisms and the absurdity of acting unfazed amid disaster.`
    },
    {
      title: "Woman Yelling at a Cat",
      text: `A split image shows a woman screaming on one side and a confused cat at a dinner table on the other, contrasting extreme overreaction with indifference. It's used to depict absurd arguments, where one side is emotional and the other is unbothered. Popular for illustrating ridiculous debates or mocking petty disputes.`
    },
    {
      title: "Surprised Pikachu",
      text: `A screenshot of Pikachu with a shocked face used sarcastically to express surprise at a predictable outcome. It mocks people acting shocked when consequences were obvious. Often used to highlight poor decision-making or inevitable results.`
    },
    {
      title: "Mocking Spongebob",
      text: `SpongeBob bends over and repeats words in a mocking tone, symbolizing sarcastic ridicule. It's used to dismiss complaints or statements by mimicking them exaggeratedly. Popular for its simple portrayal of childish, mocking humor.`
    },
    {
      title: "Drakeposting",
      text: `Drake rejects one idea in the first panel and approves another in the second, highlighting preference through contrasting choices. Its simple two-panel format is easily adapted to show what’s “not cool” versus what’s “cool.” Commonly used to humorously express opinions or decisions.`
    },
    {
      title: "Is This a Pigeon?",
      text: `A character mistakes a butterfly for a pigeon, humorously representing misinterpretation. It's used when someone completely misunderstands or mislabels something obvious. Often employed to point out ignorance or absurd claims.`
    },
    {
      title: "Change My Mind",
      text: `A man sits at a table with a sign stating an opinion and invites others to “change his mind.” It's used to present bold, often humorous or controversial opinions with confidence. The format baiting debate makes it a popular way to mock exaggerated certainty or generate playful discussion.`
    },
    {
      title: "Two Buttons",
      text: `A sweating man faces two buttons, each representing a difficult choice, reflecting indecision. It's used to humorously depict the stress of making tough or absurd decisions. Commonly applied to everyday dilemmas or mismatched scenarios for comedic effect.`
    },
    {
      title: "Success Kid",
      text: `A toddler clenches his fist in victory, symbolizing personal wins. It's used to celebrate even minor achievements with exaggerated pride. The meme highlights the joy of small successes, making it a go-to image for everyday triumphs.`
    }
  ]
  
      
  };
  
  
  let currentTopic = null;
  let currentText = "";
  let pos = 0;
  
  // Metrics variables
  let startTime = null;
  let timerInterval = null;
  let totalKeystrokes = 0;
  let correctKeystrokes = 0;
  
  const timerEl = document.getElementById('timer');
  const wpmEl = document.getElementById('wpm');
  const accuracyEl = document.getElementById('accuracy');
  
  // Update metrics display
  function updateStats() {
    if (startTime) {
      const elapsed = Date.now() - startTime;
      const seconds = Math.floor(elapsed / 1000);
      timerEl.textContent = `Time: ${seconds}s`;
      const minutes = elapsed / 1000 / 60;
      const wpm = minutes > 0 ? Math.round((correctKeystrokes / 5) / minutes) : 0;
      wpmEl.textContent = `WPM: ${wpm}`;
      const accuracy = totalKeystrokes > 0 ? Math.round((correctKeystrokes / totalKeystrokes) * 100) : 100;
      accuracyEl.textContent = `Accuracy: ${accuracy}%`;
    } else {
      timerEl.textContent = 'Time: 0s';
      wpmEl.textContent = 'WPM: 0';
      accuracyEl.textContent = 'Accuracy: 100%';
    }
  }
  
  // Theme toggle
  const toggleBtn = document.getElementById('toggleTheme');
  toggleBtn.addEventListener('click', () => {
    document.body.classList.toggle('light-theme');
    localStorage.setItem('theme', document.body.classList.contains('light-theme') ? 'light' : 'dark');
  });
  if (localStorage.getItem('theme') === 'light') document.body.classList.add('light-theme');
  
  // Navigation elements
  const landing = document.getElementById('landing');
  const topicView = document.getElementById('topic');
  const subtopicsDiv = document.getElementById('subtopics');
  const typingBox = document.getElementById('typingBox');
  
  document.querySelectorAll('.topic-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      currentTopic = btn.dataset.topic;
      showTopicView();
    });
  });
  
  document.getElementById('backBtn').addEventListener('click', () => {
    topicView.classList.add('hidden');
    landing.classList.remove('hidden');
    resetTyping();
  });
  
  function showTopicView() {
    landing.classList.add('hidden');
    topicView.classList.remove('hidden');
    renderSubtopics();
  }
  
  function renderSubtopics() {
    subtopicsDiv.innerHTML = '';
    data[currentTopic].forEach(item => {
      const btn = document.createElement('button');
      btn.textContent = item.title;
      btn.addEventListener('click', () => loadText(item.text));
      subtopicsDiv.appendChild(btn);
    });
  }
  
  function loadText(text) {
    // Reset metrics and timer
    clearInterval(timerInterval);
    startTime = null;
    totalKeystrokes = 0;
    correctKeystrokes = 0;
    updateStats();
  
    currentText = text;
    pos = 0;
    typingBox.innerHTML = '';
    text.split('').forEach(ch => {
      const span = document.createElement('span');
      span.textContent = ch;
      span.classList.add('rune');
      typingBox.appendChild(span);
    });
    typingBox.focus();
  }
  
  typingBox.addEventListener('keydown', e => {
    e.preventDefault();
    if (e.key === 'Backspace') {
      if (pos > 0) {
        pos--;
        typingBox.children[pos].classList.remove('correct');
      }
    } else if (e.key.length === 1) {
      // Start timer on first character
      if (!startTime) {
        startTime = Date.now();
        timerInterval = setInterval(updateStats, 1000);
      }
      totalKeystrokes++;
      if (pos < currentText.length && e.key === currentText[pos]) {
        typingBox.children[pos].classList.add('correct');
        correctKeystrokes++;
        pos++;
        if (pos === currentText.length) {
          clearInterval(timerInterval);
        }
      }
      updateStats();
    }
  });
  
  function resetTyping() {
    clearInterval(timerInterval);
    startTime = null;
    totalKeystrokes = 0;
    correctKeystrokes = 0;
    updateStats();
    typingBox.innerHTML = '';
    pos = 0;
    currentText = '';
  }
  